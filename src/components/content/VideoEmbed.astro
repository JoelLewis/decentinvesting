---
type Props = {
  src: string;
  poster?: string;
  alt: string;
  width?: number;
  height?: number;
};

const { src, poster, alt, width = 800, height = 450 } = Astro.props;
---

<figure class="my-8">
  <video
    class="w-full rounded-lg shadow-md bg-gray-100"
    controls
    preload="none"
    poster={poster}
    width={width}
    height={height}
    aria-label={alt}
  >
    <source src={src} type={src.endsWith('.webm') ? 'video/webm' : 'video/mp4'} />
    <p>
      Your browser does not support video playback.
      <a href={src}>Download the video</a>.
    </p>
  </video>
  <figcaption class="text-center text-sm text-gray-500 mt-2">
    {alt}
  </figcaption>
</figure>
