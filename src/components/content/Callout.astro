---
type Props = {
  type: 'tip' | 'warning' | 'info';
  title?: string;
};

const { type, title } = Astro.props;

const styles = {
  tip: {
    border: 'border-sage-400 dark:border-sage-500',
    bg: 'bg-sage-50 dark:bg-sage-950/40',
    icon: 'üí°',
    defaultTitle: 'Tip',
    titleColor: 'text-sage-800 dark:text-sage-300',
    textColor: 'text-sage-900 dark:text-sage-200',
  },
  warning: {
    border: 'border-amber-400 dark:border-amber-500',
    bg: 'bg-amber-50 dark:bg-amber-950/30',
    icon: '‚ö†Ô∏è',
    defaultTitle: 'Common Mistakes',
    titleColor: 'text-amber-800 dark:text-amber-300',
    textColor: 'text-amber-900 dark:text-amber-200',
  },
  info: {
    border: 'border-blue-400 dark:border-blue-500',
    bg: 'bg-blue-50 dark:bg-blue-950/30',
    icon: '‚ÑπÔ∏è',
    defaultTitle: 'Note',
    titleColor: 'text-blue-800 dark:text-blue-300',
    textColor: 'text-blue-900 dark:text-blue-200',
  },
} as const;

const style = styles[type];
---

<aside class={`border-l-4 ${style.border} ${style.bg} rounded-r-lg p-4 my-6`} role="note">
  <p class={`font-semibold ${style.titleColor} mb-2`}>
    {style.icon}
    {title ?? style.defaultTitle}
  </p>
  <div class={`text-sm leading-relaxed ${style.textColor}`}>
    <slot />
  </div>
</aside>
